graph G {
    node [ shape=box, fontsize=10, fontname="Droid Sans", style=filled, height=0.2 ]
    edge [ color=gray50, penwidth=3, fontname="Droid Sans" ]
    graph [ overlap=false ]

    subgraph main {
        node [ fillcolor=pink ]
        Челябинск [ fontsize=14 ]

        "Б. Акуля" [ shape=folder ]
        "Бараус"   [ shape=folder ]
        "Еланчик"  [ shape=folder ]

        Миасс [ fontsize=12 ]
        Челябинск -- Смолино -- Полетаево -- Биргильда -- Тактыбай -- Бишкиль -- Мисяш -- Чебаркуль
        Ужевка -- "Новое Поле" -- Казанцево -- Челябинск
        "Новое Поле" -- Челябинск
        Челябинск -- Глинка -- Дубровка
        Челябинск -- Кайгородово -- Полетаево
        Ужевка -- Есаульский -- Кременкуль -- Челябинск
        Касарги -- "Большое Баландино" -- Баландино -- Челябинск
        Миасс -- Кисегач -- Чебаркуль
        Кисегач -- Непряхино -- Мисяш
        Шахматово -- Мисяш
        Медведево -- Бишкиль
        Челябинск -- Малиновка -- "Полетаево II" -- Высокий -- Тактыбай
        "Полетаево II" -- Полетаево
        "Б. Акуля" -- Кузнецкое -- Байрамгулово -- Миасский -- "Новый Миасс" -- Биккулова -- Яраткулова -- Саитова -- "Верхние Караси" -- Непряхино
        Кундравы -- Сарафаново -- Малково
        Бараус -- Непряхино -- Чебаркуль
        Миасский -- Халитова -- Биккулова
        Еланчик -- Малково -- Чебаркуль
        Тайгинка -- "Б. Акуля" -- Каолиновый
        Тайгинка -- Кузнецкое -- Аргаяш
        "Чёрная скала" -- Златоуст -- "Михеевский кордон" -- "Северные Печи"
        "приют Таганай" -- Златоуст
        "Северные Печи" -- Тургояк -- Миасс
        Куштумга -- Тургояк -- Сыростан -- Миасс
    }

    subgraph north {
        node [ fillcolor=powderblue ]

        Аракуль -- Силач
    }

    subgraph penza {
        node [ fillcolor=lavender ]

        Пенза
    }

    subgraph samara {
        node [ fillcolor=cornflowerblue ]

        Самара
    }

    subgraph shemakha {
        node [ fillcolor=khaki ]

        Шемаха
    }

    subgraph ai {
        node [ fillcolor=yellowgreen ]

        "Сикияз-Тамак" -- Межевой -- Сулея
    }

    subgraph south1 {
        node [ fillcolor=yellow ]
        "Азовское море" [ shape=folder ]
        "Азовское море" -- Голубицкая -- Темрюк -- Анапа
    }

    subgraph south2 {
        node [ fillcolor=wheat ]

        Новороссийск -- "Абрау-Дюрсо" -- Дюрсо
    }

    subgraph georgia {
        node [ fillcolor=goldenrod ]

        Кобулети -- Батуми -- Махо
        Махинджаури -- Батуми -- Сарпи
        Цинсвла -- Салибаури -- Батуми -- Хелвачаури
        Кобулети -- Чакви -- Батуми -- Ахалсопели -- "Зеда Чарнали"
        Ахалсопели -- Махо
        Капнистави -- Аджарисцкали -- Мирвети
        Ортабатуми -- Батуми
        Батуми -- Эрге -- Аджарисцкали
        Ахалшени -- Батуми
        Ортабатуми --Цинсвла -- Ахалшени -- "Квемо Джочо" -- Эрге
        "Земо Джочо" -- Эрге
    }

    subgraph tyelga {
        node [ fillcolor=aquamarine ]

        Тыелга
    }

    subgraph zhuchki {
        node [ fillcolor=tan ]

        Жучки -- Абрамцево
        Жучки -- Быково -- Хотьково -- Абрамцево
    }
    subgraph turkey {
        node [ fillcolor=hotpink ]

        Конаклы -- Аланья -- Газипаша
        Эликесик -- Аланья -- Секи
        Аланья -- Кузъяка
    }

    subgraph failed_cities {
        node [ shape="circle",fillcolor="white",color="red",fontsize=7, height=0.1 ]

        Арасланово Бердяуш "Верхний\nУфалей" Вишневогорск Карабаш Касли Кыштым
        Пороги Нязепетровск
        Москва
        Уреки Поти Тбилиси
    }

    subgraph failed {

        // Ближайшие — можно пройти за час
        edge [ color=orange, fontcolor=orange, fontsize=10, penwidth=2 ]
        Каолиновый -- Кыштым [ label=2 ]
        Вишневогорск -- Аракуль  [ label=9 ]
        "Северные Печи" -- Куштумга [ label=10 ]
        Касарги -- "Новое Поле" [ label=13 ]
        Силач -- "Верхний\nУфалей" [ label=15 ]
        Арасланово -- Шемаха [ label=8 ]

        // Ближние
        edge [ color=orangered, fontcolor=orangered, fontsize=8, penwidth=1 ]
        Пороги -- Бердяуш [ label=18 ]
        Миасс -- Кундравы [ label=25 ]
        Касарги -- Аргаяш [ label=23 ]
        Пороги -- Сулея  [ label=29 ]
        Кыштым -- Касли  [ label=25 ]
        Касли -- Вишневогорск [ label=20]
        Тыелга -- "Михеевский кордон" [ label=14 ]
        Тыелга -- "Северные Печи" [ label=17 ]
        Карабаш -- Тыелга [ label=20 ]
        Кузнецкое -- Карабаш [ label=35 ]
        Тайгинка -- Карабаш [ label=28 ]
        Тыелга -- Халитова [ label=24 ]
        Уреки -- Кобулети  [ label=17 ]
        Поти -- Уреки [ label=19 ]

        // Средние — можно пройти за день
        edge [ color=red, fontcolor=red, style="dashed" ]
        Силач -- Кыштым  [ label=40 ]
        Анапа -- Новороссийск [ label=50 ]
        Златоуст -- Бердяуш [ label=60 ]
        Нязепетровск -- Арасланово [ label=32 ]
        "Верхний\nУфалей" -- Нязепетровск [ label=45 ]
        Абрамцево -- Москва [ label=55 ]
        Темрюк -- Новороссийск [ label=85 ]

        // Дальние (от 100 км)
        edge [ color=plum, fontcolor=plum, style="dotted" ]

        // Самые дальние — нереально проехать
        edge [ color=skyblue, fontcolor=skyblue ]
        Тбилиси -- Уреки [ label=315 ]
        Самара -- Пенза [ label=372 ]
        Москва -- Пенза [ label=710 ]
        Сулея -- Самара [ label=695 ]
        Пенза -- Темрюк [ label=1250 ]
        Тбилиси -- Новороссийск [ label=990 ]
        Сарпи -- Конаклы [ label=1355 ]
    }
}
